<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TCP协议 | 前端相关资料</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/svg/favicon.svg">
    <meta name="description" content="前端相关资料">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/assets/css/0.styles.3b812c5c.css" as="style"><link rel="preload" href="/assets/js/app.9513c892.js" as="script"><link rel="preload" href="/assets/js/3.cac7aabd.js" as="script"><link rel="preload" href="/assets/js/1.4e15c990.js" as="script"><link rel="preload" href="/assets/js/23.36a48454.js" as="script"><link rel="prefetch" href="/assets/js/10.695f218e.js"><link rel="prefetch" href="/assets/js/11.cd514324.js"><link rel="prefetch" href="/assets/js/12.6c28a4c1.js"><link rel="prefetch" href="/assets/js/13.de10b1f9.js"><link rel="prefetch" href="/assets/js/14.5d8663ed.js"><link rel="prefetch" href="/assets/js/15.aee17e54.js"><link rel="prefetch" href="/assets/js/16.9391a9cb.js"><link rel="prefetch" href="/assets/js/17.9cf3d247.js"><link rel="prefetch" href="/assets/js/18.91ce8e5b.js"><link rel="prefetch" href="/assets/js/19.f6583b43.js"><link rel="prefetch" href="/assets/js/20.2f8aad41.js"><link rel="prefetch" href="/assets/js/21.ccab41b3.js"><link rel="prefetch" href="/assets/js/22.201041fe.js"><link rel="prefetch" href="/assets/js/24.1b2b63f4.js"><link rel="prefetch" href="/assets/js/25.f9aae752.js"><link rel="prefetch" href="/assets/js/26.cb1e4948.js"><link rel="prefetch" href="/assets/js/4.6165e1e1.js"><link rel="prefetch" href="/assets/js/5.f14d71e5.js"><link rel="prefetch" href="/assets/js/6.b2954b72.js"><link rel="prefetch" href="/assets/js/7.48f0adbd.js"><link rel="prefetch" href="/assets/js/8.ea2d4cbf.js"><link rel="prefetch" href="/assets/js/9.170ee14a.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3b812c5c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-7dd95ae2><div data-v-7dd95ae2><div class="password-shadow password-wrapper-out" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88>前端相关资料</h3> <p class="description" data-v-59e6cb88>前端相关资料</p> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div class="hide" data-v-7dd95ae2><header class="navbar" data-v-7dd95ae2><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">前端相关资料</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="http://47.111.22.150:8099/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  xyzcy的 个人网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/xyzcy" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-7dd95ae2></div> <aside class="sidebar" data-v-7dd95ae2><div class="personal-info-wrapper" data-v-1fad0c41 data-v-7dd95ae2><!----> <!----> <div class="num" data-v-1fad0c41><div data-v-1fad0c41><h3 data-v-1fad0c41>17</h3> <h6 data-v-1fad0c41>文章</h6></div> <div data-v-1fad0c41><h3 data-v-1fad0c41>0</h3> <h6 data-v-1fad0c41>标签</h6></div></div> <ul class="social-links" data-v-1fad0c41></ul> <hr data-v-1fad0c41></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="undefined"></i>
  首页
</a></div><div class="nav-item"><a href="http://47.111.22.150:8099/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  xyzcy的 个人网站
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://gitee.com/xyzcy" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  Gitee
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><a href="/" class="sidebar-heading clickable router-link-active"><span>欢迎浏览</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/" aria-current="page" class="sidebar-link">前言</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Prototype/Prototype" class="sidebar-heading clickable"><span>原型与原型链</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Prototype/Prototype.html" class="sidebar-link">原型</a></li><li><a href="/handbook/Prototype/Inherit.html" class="sidebar-link">继承</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/ExecutionContext/ExecutionContext" class="sidebar-heading clickable"><span>执行上下文</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/ExecutionContext/ExecutionContext.html" class="sidebar-link">执行上下文</a></li><li><a href="/handbook/ExecutionContext/ActivationObject.html" class="sidebar-link">变量对象</a></li><li><a href="/handbook/ExecutionContext/Scope.html" class="sidebar-link">作用域链</a></li><li><a href="/handbook/ExecutionContext/This.html" class="sidebar-link">This</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Closure/Closure" class="sidebar-heading clickable"><span>闭包</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Closure/Closure.html" class="sidebar-link">闭包</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/EventLoop/EventLoop" class="sidebar-heading clickable"><span>事件循环</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/EventLoop/EventLoop.html" class="sidebar-link">事件循环</a></li><li><a href="/handbook/EventLoop/Promise.html" class="sidebar-link">Promise</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Array/Array" class="sidebar-heading clickable"><span>常用数组操作方法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Array/Array.html" class="sidebar-link">常用数组操作方法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/String/String" class="sidebar-heading clickable"><span>常用字符串操作方法</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/String/String.html" class="sidebar-link">常用字符串操作方法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Operator/Operator" class="sidebar-heading clickable"><span>操作符优先级</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Operator/Operator.html" class="sidebar-link">操作符优先级</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Type/Type" class="sidebar-heading clickable"><span>类型转换</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Type/Type.html" class="sidebar-link">类型转换</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Debounce/Debounce" class="sidebar-heading clickable"><span>防抖、节流</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Debounce/Debounce.html" class="sidebar-link">防抖、节流</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Render/Render" class="sidebar-heading clickable open active"><span>浏览器、渲染机制</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Render/Render.html" aria-current="page" class="active sidebar-link">浏览器、页面渲染</a></li></ul></section></li><li><section class="sidebar-group depth-0"><a href="/handbook/Router/Router" class="sidebar-heading clickable"><span>前端路由</span> <!----></a> <ul class="sidebar-links sidebar-group-items"><li><a href="/handbook/Router/Router.html" class="sidebar-link">前端路由</a></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-59e6cb88 data-v-7dd95ae2><h3 class="title" data-v-59e6cb88></h3> <!----> <label id="box" class="inputBox" data-v-59e6cb88><input type="password" value="" data-v-59e6cb88> <span data-v-59e6cb88>Konck! Knock!</span> <button data-v-59e6cb88>OK</button></label> <div class="footer" data-v-59e6cb88><span data-v-59e6cb88><i class="iconfont reco-theme" data-v-59e6cb88></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-59e6cb88>vuePress-theme-reco</a></span> <span data-v-59e6cb88><i class="iconfont reco-copyright" data-v-59e6cb88></i> <a data-v-59e6cb88><!---->
          
        <!---->
        2023
      </a></span></div></div> <div data-v-7dd95ae2><div data-v-7dd95ae2><main class="page"><section style="display:;"><div class="page-title"><h1 class="title">TCP协议</h1> <div data-v-8a445198><!----> <!----> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="tcp协议"><a href="#tcp协议" class="header-anchor">#</a> TCP协议</h2> <p><strong>TCP: Transmission Control Protocol  传输控制协议</strong> 是一种面向连接的、可靠的、基于字节流的传输层通信协议。</p> <blockquote><ol><li>客户端发送 syn 包 （syn=j） 到服务器，并进入 SYN_SEND 状态，等待服务器确认。</li> <li>服务器收到 syn 包，必须确认客户的SYN（ack=j+1），同时自己也发送一个 SYN 包（syn=k），即 SYN+ACK 包，此时服务器进入 SYN_RECV 状态。</li> <li>客户端收到服务器的 SYN＋ACK 包，向服务器发送确认包 ACK(ack=k+1) ，此包发送完毕，客户端和服务器进入 ESTABLISHED 状态，完成三次握手。</li></ol></blockquote> <p><img src="https://gitee.com/xyzcy/blog/raw/master/src/assets/img/tcp.png" alt="TCP"></p> <blockquote><p>SYN : synchronous 建立联机<br>
ACK : acknowledgement 确认<br>
SYN_SENT : 请求连接<br>
SYN_RECV : 服务端被动打开后,接收到了客户端的 SYN 并且发送了 ACK 时的状态。再进一步接收到客户端的 ACK 就进入 ESTABLISHED 状态。</p></blockquote> <h2 id="udp协议"><a href="#udp协议" class="header-anchor">#</a> UDP协议</h2> <p><strong>UDP: User Datagram Protocol  用户数据报协议</strong></p> <blockquote><p>相比于 TCP 的面向连接需要反复确认的繁琐步骤，UDP 是一中性格特立独行并且主观性超强的非面向连接的协议，使用 udp 协议经常通信并不需要建立连接，它只是负责把数据尽可能快的发送出去，简单粗暴，并且不可靠，而在接收端，UDP 把每个消息断放入队列中，接收端程序从队列中读取数据。</p></blockquote> <h2 id="http协议"><a href="#http协议" class="header-anchor">#</a> HTTP协议</h2> <p><strong>HTTP协议: Hypertext Transfer Protocol  也叫超文本传送协议</strong> 它是一种基于 TCP/IP 协议栈、在表示层和应用层上的协议（TCP在传输层的协议），通俗一点说就是：</p> <blockquote><ul><li>TCP/IP 是位于传输层上的一种协议，用于在网络中传输数据；</li> <li>HTTP 协议是应用层协议，基于 TCP 协议，用于包装数据，程序使用它进行通信，可以简单高效的处理通信中数据的传输和识别处理</li></ul></blockquote> <h2 id="url"><a href="#url" class="header-anchor">#</a> URL</h2> <p><strong>URL: Uniform Resource Locator  统一资源定位符</strong> 说白了就是网络上用来标识具体资源的一个地址，包含了用户查找该资源的信息， HTTP 使用它来传输数据和建立连接</p> <p>一个 URL 有以下组成部分：</p> <blockquote><ol><li>协议</li> <li>服务器地址（域名或IP+端口）</li> <li>路径</li> <li>文件名</li></ol></blockquote> <p>比如：https://www.baidu.com/index.html</p> <p>其中</p> <blockquote><ol><li>https:// 是一种协议 当然， HTTP 也是、ftp 也是…</li> <li>www.baidu.com 是服务器地址，当然你知道百度的 IP 也可以，例如用 ping 命令得到百度的 ip: 14.215.177.39 ，那么我可以用 http://14.215.177.39 打开百度</li> <li>index.html 包含了路径和文件名，当然通常 index.html 是可以省略的，所以打开百度时，并没有看到这个。</li></ol></blockquote> <h2 id="dns"><a href="#dns" class="header-anchor">#</a> DNS</h2> <p><strong>DNS: Domain Name Server  域名服务器</strong></p> <p>当用户在浏览器输入 https://www.baidu.com 回车时，它经历了以下步骤：</p> <blockquote><ol><li>浏览器根据地址去本身缓存中查找 dns 解析记录，如果有，则直接返回 IP 地址，否则浏览器会查找操作系统中（hosts文件）是否有该域名的 dns 解析记录，如果有则返回。</li> <li>如果浏览器缓存和操作系统 hosts 中均无该域名的 dns 解析记录，或者已经过期，此时就会向域名服务器发起请求来解析这个域名。</li> <li>请求会先到 LDNS（本地域名服务器），让它来尝试解析这个域名，如果 LDNS 也解析不了，则直接到根域名解析器请求解析</li> <li>根域名服务器给 LDNS 返回一个所查询余的主域名服务器（gTLDServer）地址。</li> <li>此时 LDNS 再向上一步返回的 gTLD 服务器发起解析请求。</li> <li>gTLD 服务器接收到解析请求后查找并返回此域名对应的 Name Server 域名服务器的地址，这个 Name Server 通常就是你注册的域名服务器（比如阿里dns、腾讯dns等）</li> <li>Name Server 域名服务器会查询存储的域名和 IP 的映射关系表，正常情况下都根据域名得到目标 IP 记录，连同一个 TTL 值返回给 DNS Server 域名服务器</li> <li>返回该域名对应的 IP 和 TTL 值，Local DNS Server 会缓存这个域名和 IP 的对应关系，缓存的时间有 TTL 值控制。</li> <li>把解析的结果返回给用户，用户根据 TTL 值缓存在本地系统缓存中，域名解析过程结束。</li></ol></blockquote> <h2 id="页面渲染"><a href="#页面渲染" class="header-anchor">#</a> 页面渲染</h2> <p><img src="https://gitee.com/xyzcy/blog/raw/master/src/assets/img/render.png" alt="页面渲染"></p> <ol><li><strong>HTML parser</strong>: HTML解析器，其本质是将 HTML 文本解释成 DOM tree。</li> <li><strong>CSS parser</strong>: CSS解析器，其本质是讲 DOM 中各元素对象加入样式信息</li> <li><strong>JavaScript引擎</strong>: 专门处理 JavaScript 脚本的虚拟机，其本质是解析 JS 代码并且把逻辑（HTML和CSS的操作）应用到布局中，从而按程序要的要求呈现相应的结果</li> <li><strong>DOM tree</strong>:文档对象模型树，也就是浏览器通过 HTMLparser 解析 HTML 页面生成的 HTML 树状结构以及相应的接口。</li> <li><strong>render tree</strong>: 渲染树，也就是浏览器引擎通过 DOM Tree 和 CSS Rule Tree 构建出来的一个树状结构，和 dom tree 不一样的是，它只有要最终呈现出来的内容，像或者带有 display:none 的节点是不存在 render tree 中的。</li> <li><strong>layout</strong>: 也叫 reflow <strong>回流</strong>（重排），渲染中的一种行为。当 rendertree 中任一节点的几何尺寸发生改变了，render tree 都会重新布局。</li> <li><strong>repaint</strong>: <strong>重绘</strong>，渲染中的一种行为。render tree 中任一元素样式属性（几何尺寸没改变）发生改变了，render tree 都会重新画，比如字体颜色、背景等变化。</li></ol> <p>所以，根据关键词汇的解释以及顺着流程图的流程，可以总结出，浏览器解析渲染页面主要包括以下过程：</p> <blockquote><ol><li>浏览器通过 HTMLParser 根据深度遍历的原则把 HTML 解析成 DOM Tree。</li> <li>将 CSS 解析成 CSS Rule Tree（CSSOM Tree）。</li> <li>根据 DOM 树和 CSSOM 树来构造 render Tree。</li> <li>layout: 根据得到的 render tree 来计算所有节点在屏幕的位置。</li> <li>paint: 遍历 render 树，并调用硬件图形 API 来绘制每个节点。</li></ol></blockquote> <h2 id="回流和重绘"><a href="#回流和重绘" class="header-anchor">#</a> 回流和重绘</h2> <h3 id="回流"><a href="#回流" class="header-anchor">#</a> 回流</h3> <p>当我们对 DOM 结构的修改引发 DOM 几何尺寸变化的时候，会发生 <strong>回流</strong> 的过程。</p> <p>例如以下操作会触发回流：</p> <ol><li>一个 DOM 元素的几何属性变化，常见的几何属性有 <strong>width、height、padding、margin、left、top、border</strong> 等等, 这个很好理解。</li> <li>使 DOM 节点发生 <strong>增减</strong> 或者 <strong>移动</strong>。</li> <li>读写 <strong>offset</strong> 族、 <strong>scroll</strong> 族和 <strong>client</strong> 族属性的时候，浏览器为了获取这些值，需要进行回流操作。</li> <li>调用 <strong>window.getComputedStyle</strong> 方法。</li></ol> <p>回流过程：由于 DOM 的结构发生了改变，所以需要从生成 DOM 这一步开始，重新经过 <strong>样式计算、生成布局树、建立图层树、</strong> 再到 <strong>生成绘制列表</strong> 以及之后的显示器显示这整一个渲染过程走一遍，开销是非常大的。</p> <hr> <h3 id="重绘"><a href="#重绘" class="header-anchor">#</a> 重绘</h3> <p>当 DOM 的修改导致了样式的变化，并且没有影响几何属性的时候，会导致 <strong>重绘(repaint)</strong> 。</p> <p>重绘过程：由于没有导致 DOM 几何属性的变化，因此元素的位置信息不需要更新，所以当发生重绘的时候，会跳过 <strong>生存布局树</strong> 和 <strong>建立图层树</strong> 的阶段，直接到 <strong>生成绘制列表</strong> ，然后继续进行分块、生成位图等后面一系列操作。</p> <hr> <h3 id="如何避免触发回流和重绘"><a href="#如何避免触发回流和重绘" class="header-anchor">#</a> 如何避免触发回流和重绘</h3> <ol><li>避免频繁使用 style，而是采用修改 <strong>class</strong> 的方式。</li> <li>将动画效果应用到 <strong>position</strong> 属性为 <strong>absolute</strong> 或 <strong>fixed</strong> 的元素上。</li> <li>也可以先为元素设置 <strong>display: none</strong> ，操作结束后再把它显示出来。因为在 <strong>display</strong> 属性为 <strong>none</strong> 的元素上进行的 DOM 操作不会引发回流和重绘</li> <li>使用 <strong>createDocumentFragment</strong> 进行批量的 DOM 操作。</li> <li>对于 resize、scroll 等进行防抖/节流处理。</li> <li>避免频繁读取会引发回流/重绘的属性，如果确实需要多次使用，就用一个变量缓存起来。</li> <li>利用 CSS3 的 <strong>transform</strong>、<strong>opacity</strong>、<strong>filter</strong> 这些属性可以实现合成的效果，也就是 GPU 加速。</li></ol> <h2 id="性能优化"><a href="#性能优化" class="header-anchor">#</a> 性能优化</h2> <p><strong>对于css</strong>:</p> <blockquote><ol><li>优化选择器路径：健全的 css 选择器固然是能让开发看起来更清晰，然后对于 css 的解析来说却是个很大的性能问题，因此相比于 .a .b .c{} ，更倾向于大家写 .c{}。</li> <li>压缩文件：尽可能的压缩你的 css 文件大小，减少资源下载的负担。</li> <li>选择器合并：把有共同的属性内容的一系列选择器组合到一起，能压缩空间和资源开销</li> <li>精准样式：尽可能减少不必要的属性设置，比如你只要设置 {padding-left:10px} 的值,那就避免 {padding:0 0 0 10px} 这样的写法</li> <li>雪碧图：在合理的地方把一些小的图标合并到一张图中，这样所有的图片只需要一次请求，然后通过定位的方式获取相应的图标，这样能避免一个图标一次请求的资源浪费。</li> <li>避免通配符：.a .b *{} 像这样的选择器，根据从右到左的解析顺序在解析过程中遇到通配符（*）回去遍历整个dom的，这样性能问题就大大的了。</li> <li>少用 Float:Float 在渲染时计算量比较大，尽量减少使用。</li> <li>0值去单位：对于为0的值，尽量不要加单位，增加兼容性</li></ol></blockquote> <hr> <p><strong>对于JavaScript</strong>:</p> <blockquote><ol><li>尽可能把 script 标签放到 body 之后，避免页面需要等待 js 执行完成之后 dom 才能继续执行，最大程度保证页面尽快的展示出来。</li> <li>尽可能合并script代码，</li> <li>css 能干的事情，尽量不要用 JavaScript 来干。毕竟 JavaScript 的解析执行过于直接和粗暴，而 css 效率更高。</li> <li>尽可能压缩的 js 文件，减少资源下载的负担</li> <li>尽可能避免在 js 中逐条操作 dom 样式，尽可能预定义好 css 样式，然后通过改变样式名来修改 dom 样式，这样集中式的操作能减少 reflow 或 repaint 的次数。</li> <li>尽可能少的在 js 中创建 dom，而是预先埋到 HTML 中用 display:none 来隐藏，在 js 中按需调用，减少 js 对 dom 的暴力操作。</li></ol></blockquote> <hr> <p><strong>对于HTML</strong>：</p> <blockquote><ol><li>避免再 HTML 中直接写 css 代码。</li> <li>使用 Viewport 加速页面的渲染。</li> <li>使用语义化标签，减少 css 的代码，增加可读性和 SEO。</li> <li>减少标签的使用，dom 解析是一个大量遍历的过程，减少无必要的标签，能降低遍历的次数。</li> <li>避免 src、href 等的值为空。</li> <li>减少 dns 查询的次数。</li></ol></blockquote></div></section> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/handbook/Debounce/Debounce.html" class="prev">
          防抖、节流
        </a></span> <span class="next"><a href="/handbook/Router/Router.html">
          前端路由
        </a></span></p></div> <div class="comments-wrapper"><!----></div></main></div> <!----></div> <ul class="sub-sidebar sub-sidebar-wrapper" style="width:12rem;" data-v-b57cc07c data-v-7dd95ae2><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#tcp协议" class="sidebar-link reco-side-tcp协议" data-v-b57cc07c>TCP协议</a></li><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#udp协议" class="sidebar-link reco-side-udp协议" data-v-b57cc07c>UDP协议</a></li><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#http协议" class="sidebar-link reco-side-http协议" data-v-b57cc07c>HTTP协议</a></li><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#url" class="sidebar-link reco-side-url" data-v-b57cc07c>URL</a></li><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#dns" class="sidebar-link reco-side-dns" data-v-b57cc07c>DNS</a></li><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#页面渲染" class="sidebar-link reco-side-页面渲染" data-v-b57cc07c>页面渲染</a></li><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#回流和重绘" class="sidebar-link reco-side-回流和重绘" data-v-b57cc07c>回流和重绘</a></li><li class="level-3" data-v-b57cc07c><a href="/handbook/Render/Render.html#回流" class="sidebar-link reco-side-回流" data-v-b57cc07c>回流</a></li><li class="level-3" data-v-b57cc07c><a href="/handbook/Render/Render.html#重绘" class="sidebar-link reco-side-重绘" data-v-b57cc07c>重绘</a></li><li class="level-3" data-v-b57cc07c><a href="/handbook/Render/Render.html#如何避免触发回流和重绘" class="sidebar-link reco-side-如何避免触发回流和重绘" data-v-b57cc07c>如何避免触发回流和重绘</a></li><li class="level-2" data-v-b57cc07c><a href="/handbook/Render/Render.html#性能优化" class="sidebar-link reco-side-性能优化" data-v-b57cc07c>性能优化</a></li></ul></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/assets/js/app.9513c892.js" defer></script><script src="/assets/js/3.cac7aabd.js" defer></script><script src="/assets/js/1.4e15c990.js" defer></script><script src="/assets/js/23.36a48454.js" defer></script>
  </body>
</html>
